### 로그인이 필요한 요청시 로그인 페이지로 이동

**1\) NeedLoginInterceptor**

```java
public class NeedLoginInterceptor implements HandlerInterceptor {
	@Autowired
	private Rq rq;
	
	@Override
	public boolean preHandle(HttpServletRequest req, HttpServletResponse resp, Object handler) throws Exception {
		if(!rq.isLogined()) {
			rq.printReplaceJs("로그인 후 이용가능 합니다.","../member/login");
			return false;
		}
		
		return HandlerInterceptor.super.preHandle(req, resp, handler);
	}
}
```

- 로그인이 필요한 요청이 오면 ```NeedLoginInterceptor```에서 가로채고 있으로
- ```rq.printReplaceJs()``` 메소드(response)를 통해 로그인 페이지로 이동  

**2\) printReplaceJs**

```java
public void printReplaceJs(String msg, String uri) {
		resp.setContentType("text/html; charset=UTF-8");
		println(Ut.jsReplace(msg,uri));				
	}
```

- ```printHistoryBackJs()``` 메소드와 동일하나 history.back()이 아닌 location.replace()
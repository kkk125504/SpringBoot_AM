### 게시물 리스트에서 게시물 상세페이지로 이동시 listUri 정보를 가지고 이동



#### 문제점

- 상세보기 페이지에서 로그인 후 뒤로가기 버튼을 누르면 리스트가아닌 로그인페이지가 나타는 문제
- 기존 뒤로가기 버튼은 history.back() 이므로 리스트페이지가 아닌 로그인 페이지로 돌아감



**1\) 리스트 페이지**

```java
    <c:forEach var="article" items="${articles}">
        <tr>
            <td>${article.id } </td>
            <td>${article.forPrintType1RegDate}</td>
            <td><a class="~~생략~~" href="${rq.getArticleDetailUriFromArticleList(article)}">${article.title}</a></td>
            <td>${article.extra__writer}</td>
            <td>${article.hitCount}</td>
            <td>${article.goodReactionPoint}</td>
        </tr>
    </c:forEach>
```

- 위의 코드는 반복문을 통해 게시물들을 리스팅
- 게시물의 제목을 클릭시 상세보기 페이지로 이동
- 상세보기 페이지에서 뒤로가기 버튼 클릭시 이전 리스트페이지로 돌아오기 위해
- ````href="${rq.getArticleDetailUriFromArticleList(article)}"```` : 이동시 현재 리스트페이지의 uri를 함께 보냄



**2\) rq.getArticleDetailUriFromArticleList**

```java
	public String getArticleDetailUriFromArticleList(Article article) {
		
		return "../article/detail?id="+article.getId()+"&listUri="+getEncodedCurrentUri();
	} 
```

- 위의 메소드는 해당 게시물의 상세보기페이지 uri에 현재리스트페이지의 주소를 추가한 uri를 반환



**3\) 상세보기 페이지**

```java
	<c:if test= "${not empty param.listUri}" >			
		<a class ="btn-text-link btn btn-active btn-ghost mx-4" href="${param.listUri}">뒤로가기</a>
	</c:if>
	<c:if test= "${empty param.listUri}" >			
		<button class ="btn-text-link btn btn-active btn-ghost mx-4" onclick="history.back();">뒤로가기</button>
	</c:if>	
```

- 리스트페이지에서 현재 리스트 페이지 주소(```listUri```)를 쿼리스트링으로 전달했기 때문에 상세보기 페이지에서 이전 리스트 페이지의 주소 알수있다.
- ```뒤로가기 버튼 클릭```시 ```전달 받은 리스트페이지의 주소```로 이동
- 이때 직접 ```usr/article/detail?id 로 요청시```에는 이전 리스트페이지의 주소의 값을 전달되지 않기 때문에 history.back() 버튼을 노출

